from django.shortcuts import render
from django.http import HttpResponse
from .models import Questao

# Create your views here.
def index(request):
    ultimas_questoes = Questao.objects.order_by("-data")[:5]
    # saida = ", ".join([q.pergunta for q in ultimas_questoes])
    saida = "<img src='data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBUVFRgVFRUYGBgYGhoYGhgYGBoYGBwaGhkaGhoYGBgcIS4lHB4rIRgaJjgmKy8xNTU1GiQ7QDs0Py40NTEBDAwMDw8PEA8PEDEdGB0/NDExMTExNDExMTExMTExMTExMTQ/MTExMTExMTExNDExMTExNDQxMTExMTExMTExMf/AABEIARMAtwMBIgACEQEDEQH/xAAcAAACAgMBAQAAAAAAAAAAAAABAgADBAYHBQj/xABEEAACAQIEAwUFBAYJAwUAAAABAgADEQQSITEFBkEiUWFxgQcTMpGhFEKxwVJicoKS0SNEVJOissLS8DND4RUkU4Oz/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDmWaENEvCDAOaAtATBAbNJmiQXgW5pM0qvITAuzzY+B8n4vFJ7xEVUPwtUYoG8VFiSPG1pbyByz9rql6g/oaZGYdHbcJ5dT6DrO30kAAAFgNABsB3CBw7F8k49Gy+4Z+5kIZfnfT1tM7h/s5xz6uqUh+u92/hS/wCInaAI0DmS+yx8tjiUve//AEzb55p4XNPKOIwiIxs9NVZS6XspNR2GcHUXD77aW7r9sEjqCCCAQdCCLgjuIgfNuEqAPdttQfI6H6XnocMoM9ZkKAABi29glM5mYHyQi/iZ0vmH2dUK13w1qL2+D/tsfLdD5aeE0eklXD1sVRq0WFWvTqoijWxqIygqfvLbqPGBr9erftHdjmP5D0EmBqAVFPQEP/B2/wDTMOq1zLsCdWPcj/4kKD6uIFocCk/ezIg8r5z/AJZ5znWZdR/6IDvqEn9xdP8APMRPiHnA2Ph6LkYk+B9RpbxJmetBDkUtYEgA230u38ph4cgqGtZdBlGl7C1/r9ZkLTYsoO+hXuGut/KEZj4ZTUAJAOS5W3jYaeUkroK/vLrbOM2a+3daSUaNJCZLSKUwQwQITJJJAkF4Zm8FwvvcRSp/p1EU+WYZvpeB3Dknhv2fCUktZiod+/O/aN/K9vSbGsppgAAS0GUWQxBGBkDiERAYwMBhPP4zwsV0BQha1O70ahF8j2IF+9TfUfmJ6AhED5kx+Gek706gIdCVYHowNj5yYUdmof1APm6H/SZu3tewKpikqKLe9pgt4shKk/LJ8po9Mdhj3so+jmAa/wACDvzv8yF/0SvAreosbEaFR3IPqS34NFwCXfu0veBtNOpZFFrm/aHcFN9fOZiOC9tNmsx7zqfpMWnQ+BdBoQx2uN5k/YySVN7fd/aYXA89ZUXYaqpLtbKLgnW2lgB8zrJMc4ctTz210ACjdQbEkeckDRYQYJJFQwQmC0CSSESQJNq5D4az10ragKzBNN2AGY36KA4HiW8DNVnY+TeH5KdAAWK0UZv2ql6hHzeBueHU2F5kLK0EsEocSXgkgNCDFvJILQYymVCWCBy/20prhW8Kg/8AzM5rp7sd5dvkFS34tOj+2Sr2sMh6Co1/MoLfSc5Zeyg7wfq7D8hATFjtHwCr6qgB+olnCgLtfutKMSbs572Y/WX8M+K/jA2OlWIZSw1XTL121mTSxZGbcs1iO4E+e2kow7LmOuw1PTrf6Q5B7skNvrfxvYD5fjKjKTFn3YVdX2vtoD3/APNpJTXpEBVUi4JF9idLk/SSBpFpBGIgCyKloLRrT1OA4XDOzfaXqAC2VKeUF++7tsNttdYHk2i+HWbua+Ap/BgVYjrVqVH+a3AgTm16elCjh6I/Uorf5teBr2C5axdfRMPU10zMhRdeuZ7A+k7zgMFkzabnTyACqPkBOQVueMcb/wDuGHklMfgsxE5nx7nKuIrse5WJP+GB3hVMstOIUqXF6uoOKP7Tuv8AmYTMocs8Wfd3X9uv/ImUdiLjvEU1l/SHzE5fT5E4g3x4pB/9lRvyjN7OcX/a0/xwOkvjaY3dB5sJWeMYcb1k/jE5o/s0xR/rKHzL/wApQfZvjh8NWkf33H4rA6ceYMKN8RT/AIxLaXG8M2i4ikf31/nOPcV5Ux2GQu6o6jco9yPGxAM8fhvEaSv/AEqN6HaQdJ9pXAq+L9y+GQVMgcMFdL6lSLXIvsdpzfHcMr0XQVaTplC6uhA0sxsx0OpPWdF5e4thjbI5Hhf8jN1pV1dbGzKdwdQR4gwPm5hoJm8KW7W6dfKdg47yDhMQCUX3D9GQdi/6ybW8rGc8xvLtfBOFqpcG+V11Rh4d3TQwKVQgHcWuPMXvLWvYA/CbkAfpW0/54xFqNltuTe3kRrLWqDsaX1Unw0IAhCV2JPa0IAAH/POSWkqXta9ha99zDA1C0lobRgIUloBLSsFoGTR4gw0YZx3NuPJt/neXNUpPsSh7m2/iH52nn2imBnJhBmBc2Qasw1FvAidD5O4jhWYpTshBFlIys3iO+c54VgHrv7tAdQSbdw6nw8Z6lLhKO9qD5ai/cZlIJHVGBv8AQwO40kEsyzR+SOMV3dqFYksoBF9TYm1wfymx8w4+rRQsiA6jUgne+umvTa3WUe0ohInJG5t4o7ZUFib2CUgfncGZg43xikM70iyDU3RSfLs62gdQtIJrvL3N1HE2Sxp1bXKN101yN94fI+E2FXgab7QXugXtaakqRt3MN7TjeJTUnxnbeeUU0DcC+va6i2tvWcn4dwarinyUEzNudgqj9Jm6CQYXCsLWcsaQJKC5tuAZvnLvMVRCEqhr95v0756vJnLX2N3SrVpu9QKciG5TLmvmB16726TO43wWke2SFtre+sD1sNxgMAZjcbxVKpSZHtYjc6EHoRNGxXHadK6hs9u7r5zyv/Vqle7E2VTovl9JQzU9AARvv53EtagMwAHZIBP7u8qW+l/NRv1je8s+Yg21GXut3+siJTo3YrcqFJ1G+u0kdampLHexsLHw29IZRqFoROwv7L8J0q1x+9TP+iY1T2WUPu4ioPNUP4WkVyi8hnTX9lQ+7ivnRv8Ag8Q+ypv7Uv8Acn/fA5kYpM6afZS/9qX+6P8Avlbeyh+mJT+7b/fA8r2aYe9V3OxATzB1YfhPe4nyxQp1CRRV1JuAGChfBlIsfSejyrywcGzo7hzcNmUFRqBpY+U9zilRKaO7W0GniZR5fLNBDXJVAmRMhszMLmxsL+Anu8VQuMtrr1H/AJmFyxRKUi5+JyWbzPT0FhM2liBmIbrt0gc8PDsTTxLe6cIM2i1M1svj2rsPEGetiMBj3IUU6G/xpVdcw78hv8puL0EqDUA9CDY2l2BwCU/hG8DXsBy+2ZHqIEqIwKsr7j9Y21m0KO+W2lTGBo/tPxeWkqC3aN7dbja0y+TOFCnS+zqSjEB67qCGcm9qav8AdA2Ouax0tmvMXjHBqtTG0qjlCgqUyFuSdDoLW75vWCRAl1W2Yl9rElje58ZBqfOdWlgcE/uVSk9RwiFFCtfMGZtB0UHXxHfOQ4jitV/jqO3XViZsftM4x9oxbIpumHBpi2xe93b+Ls/uCaWYDlpn4HGKikdT+HdPMM9fhXCc4DMdCQAP5wPcUq5W3XW/oNPpLKKKWcjyO2xGp+cZMLrZdFFiPUWA8JQqHKSLKBYEdTrraVF1HChltob636CxkgVdLfCjEkHy75IHaSILRyIJFLDaG0gEAWktC5ABJIAG5JsB5kzWuK884Ghce994w+7SGf8Ax6J9YGbiKbGs2U7gG3paa1zS7hAbZ3DBil9Si3JCgbH+Uy+Wua0xtV2VCmXs5S2YkHVWNgLbMOu0832j8Qo0SrI9sSPuDtXQ7hx93vB306yjJoc94P3QsxzaAJlJck9ABvPVo18TVUZcOtMN96pUUsAeuRAbnwvNM5axj10zjCI4uQWQIXBFviUHMBqNbTd8NxGoiWfC1Qb2AUZr9dLnugB8I2Gs6MzqABUU6k/rr494nsYbFK6hlIII0ImkPzyjuaVKjVZyWUKFU9pTYg3YWse+ely1Uqmo4dAgsGKKcyZmF2Knpe+o77wNrzxSJWmkdmABN+kDx8XWX39NSQLPckmwFlLbnbQTJ5u4yuFwlSoHCuVK0r6k1GFlyjra9/SaHxriArYpaZ1TMc6j7y27SnzAt6zQ+NIFrOiszKpsuYliB+iCegkGA7kkkkknUk6knqSe+XsNPIL9ReV5JY7X9bfQQKAt9O82mz4UFQo22Kjx2/Ca9hlu66ga7mbNhKtyu2i7nvsCfwgZVLEWuepA07jfT0hznIV3YXFvA6kmAZSjNsDffproI2QgLbfTtfpFu7vtKgV3GUDvsQOghi1KeVrAXuPPUb2ggbnxT2lYZNKKPVNtz/Rr5agk/Ka5i/adiW/6dOkg8Qzn5kgfSaGxgkVsuI57x7/1gr+wlNfqFvMF+ZsYTc4mv6VXH0BnjmKTA9HHcZr1gBVrVHA2DuzDzsTa889iTEJm98n0eG/Y6hxLotYl9WNnUAApkHX0GpuIGo8Ox1XDlnpOUZlykra9vA9D4zDr1SxuSWZjqSSSSepJ1JjYmvfbSbT7P+HI5es9mZTkVTqAGXU+ZBsPWBRwfgSZDVYq9rdnO9J7kjZ06ddjNswnC0yo9glmDKBWrV6jEdDmayg3sbjaZA5OQglHdAdcgN1F+gB6T1uG8uvT1aoXA2Q5QPIkCUZvBsCijPkVWItoALC9wosAAPKPSpFKrkbPY+R2NvCeiiaa9J5eOxiBiqntDfw0gZVTGqpsfxHSaxzJzCQCqd3zi4rEb6/nPCqUrlnfpqB3+F/SEeZh1cPnALVHOVR1LNoLDzInh8wYI0cTVpFsxR8pbvYAZvS9/lOqcncFsTjsRoqKzU1PQAdqoR5Xt8+6cl4pijVrPUO7u7n95i1vrIrFEJMgkMAS+hiXTQHTuOolF5IHqJxg/eTS+wNhM1OMI1rsVyjs6dfMTXxDaBtYx6s2YOmnQsL6jWSaqJIDkRDLmGkTLASC0e0UiAoEVo5EDLeBQ2s9HgnFGwz5gLqdGH4H0mEEtJaB13gnOOGdcjOFYDS+lx3EnqJ71LmChbV1HmZwijhw5UXsWIFzsLm1zOk4b2YuQufEKh2YKC481JykeWvnA9binN6MxpUCXba6g2F+rNbQTBw9QBdTcn4jfrPI5n5crYBUdapbDEhajU0VHUnqRqNehvvpPF43h6mErKodqiNldNQC6HVQdOyTtA3KnTzG4BbXsi197fWe7wnlnMwqVxoNqff3Zx0Gu02DAUEVFKJkuoNiO0Li9iTreZqwNX9ovEPdYNkU2ar2AB+gNX9Nh+9OFNvOk+1PiOesKQOlNQtv1mszH5FR6Tm7iAsJhtCICQ3kIgtAkYCACOBAFoYyiSBYTFzSsmEQHiGSKYBikyExTAhMBMEEC5dp9GcNr56VN/06aN/EoP5z5zpLpO78jV8+Bw57kyfwMU/BRA9LjOFSrh6tOoQEdGUsxAC3GjXO1jY+k5GuMRsTw1mJuiYcOGHXNZWudCNjvNy545mo0i9EtmdKbWQf/LUUqlz0yKSx/aXqJzzmHGpUqYVKYF0w9KmSuhzkWsT3i4gd7WWZgASdAASfIama/wAo4mq1BFrgrVVVzqbZgbstzbvyE+syuasV7vCVm6lcg/fIX8CYHFOZMWatZ3P32Z/K52/L0nimZOMe7TFMAwxTDAEkWOqwIq6QiMQLRLwHJki3uZIEtG6RGaQNAfSIRJmgzQJIRJeKxgQiC0XPFzQMukNBPf4fzniMPhvs1HKgzM3vN3s1uyt9F1B1316TX6R0ExQ2pgZFd8xLMxJJJJNySTuSTuZMHo+bfKC3yFgfmRK+k97k/hJxL5OjulMnuUXqVD8kX5wOk+y3hTUsMaj6Gu2YD9RbhSfMlj5ETI9peKyYZE6vUv6Ip/Nlm10KaooVRZVAAA2AAsBOZe1DHZq60x/26foGc5j9AsDnNY9oyu0jNqZAYEAhtAphDQGVbCMTFLXgaA8VRFZtIFPSBagklbP0EMBCYJDJAkhkhMBTEaOYjGAkBMkhgZaDQeQmPU6esyBtMZ9j5wMyhhyy6C83n2d4tMMhqOrkGsU7Cl2BencHKNSOwRpc67TD5B4Oa4YnRBa5/KbwMBSwCK5NkFUMxPilRNP4hA3GkwIBGx1nBeZMf76vWe9w1Rrd2XN2belp1HhfMfvsBiMTtk98FHcFF0v46icYduz5wMImGKN40BlkJgWMYEhvAITaArjSVi8ufaVCAwNoJAZIBZCCQdCND/KLOj+0rlRaefGo6hXcZqdrHOw1KEb3ILEabmc3MBpCZBFgBpXC0F4AkaGS0DKIlGW9xMm0RV/GB2fkfADD4RWcWLDMb/Oef7SOJo+Csjgk1E0B17Nz6dJqXE+dar4WlQF1ZRldwfiC6L5G2/fNQrYp30JJHdeBvOExXuOE1UP9YdcnjYgP6AIv8Ymp1tvSD7U7UkR2JRCSi9Bmtc+tomIbSBjKYYqxwYEtCrSWhtAmaEGDLCIEqHaJGqRBAfpJFvJA7JyLzBTx9D7NiQr1UWxDgH3iWK5wD94A2a3ffrOQ43DGnUem26OyH91iv5RMNiHpuroxR0IZWU2II6gz2uYeYvtaJmoU0qqWapURVDVWIADNYXGxuLmB4YitBeQmBWRBCYDAIjDceYiCOg7Q84Gaw0mKSx2H1mU50mOjD8YCrTfuHqYxZx3H11lquJHC98CgVmJsRLsSdICvj1EmM2AgYymPeJTjGBYrRrypTHJgMZBFvJmgFohMjNFJgMJIVEkBYCIZDACiFpIGMBTBaQmS8CCPS+IRBLMONYGQxlKKLbay1oqbQALWNwb6ZddPG8Ypa2x0v3769POQCAC2v/N9IA000sbw4s6CRze3nJithAxVlkWnGvAloLRhIsCA6wjeAwqICkwQxIFwkiSQDIYxEUCAJIbQWgJaG0IhgKRLcOsqaZNLQCA1SVobARnXSRDoPKBApzKF7RboAS250ItvpeMJCB8XUbSINLQFddoMUNIW6ecfEfDAw6chgWEwHWNaKpjrAraE7QssDwFiyCSA5MkSSBdeCLeSARDaAQiALRgIIrQA3dMlBpbu0mPTGsvDa+ekCPe0i7DyjvtFQWsw3FiOuo7wd4EB0MLsBpFRtCANSQc2txa+g6WNx8h4xkp6wARe228arIw1HnGKwMK0lo7HtfSKRAiyxZWI6mAbRakYRX3gIIto5EEACSG8MBRCYZIEhaSSABIZJID0esdusMkA/dMB6SSQGpx2kkgK24jPt6SSQMM9IxkkgKIwkkgFYnWSSA0WSSAVkkkgf//Z'>"
    for q in ultimas_questoes:
        linha = f"<h1>{q.pergunta}</h1>"
        saida = saida + linha
    return HttpResponse(saida)

def loucura(request):
    return HttpResponse("E nessa loucura.......")

def detalhe(request, questao_id):
    return HttpResponse("Voce esta olhando a questao %s." % questao_id)


def resultados(request, questao_id):
    response = "Voce esta olhando o resultado da questao %s."
    return HttpResponse(response % questao_id)


def voto(request, questao_id):
    return HttpResponse("Voce esta votando na questao %s." % questao_id)